{% extends 'misc/navbar_popup.html' %}
{% load static %}
{% block body %}
<div id="printableArea">
    
<div class="mb-4 mt-3">
    <lable  class="fw-bold fs-5">Model Name: <span class="mx-2 fs-5 text-danger"> {{product2item_instances_first.PProduct_pk.Product.Model_Name}}</span></lable>
    <label class="fw-bold ms-5 fs-5">Product Sku: <span class="mx-2 fs-5 text-danger"> {{product2item_instances_first.PProduct_pk.PProduct_SKU}}</span></label>
    <label class="fw-bold ms-5 fs-5">Product Color: <span class="mx-2 fs-5 text-danger"> {{product2item_instances_first.PProduct_pk.PProduct_color}}</span></label>
    <button class="print-button bg-transparent border-0" style="padding-left: 200px;" id="printButton"><img src="../../../static/images/printer.png" alt="Print" width="25px" height="25px" ></button>
</div>
<div class="row" >
    <div class="col-lg-10">
   <table class="table table-striped table-hover table-responsive table-bordered">
            <thead>
                <tr>
                    <th>Item Name </th>
                    <th>part_name</th>
                    <th>part_dimentions</th>
                    <th>dimention_total</th>
                    <th>part_pieces</th>
                </tr>
            </thead>
            
        <tbody class="mainTableList">
            {% for Items in product2item_instances %}
            <tr>
                <td class="text-nowrap">{{Items.Item_pk.item_name}}
                    {% for item_config in Items.product_item_configs.all %}
                    <tr>
                        <td></td>
                        <td class="text-nowrap">{{item_config.part_name}}</td>
                        <td class="text-nowrap">{{item_config.part_dimentions}}</td>
                        <td> {{item_config.dimention_total}}</td>
                        <td>{{item_config.part_pieces}}</td>
                    </tr>
                    {% endfor %}
        
                </td>
                    
            </tr>
            {% endfor %}
        
        </tbody>
            
        
        </table>
    </div>
</div>
</div>
<script>
    function printDiv(divId) {
        var content = document.getElementById(divId).innerHTML;
        var printWindow = window.open('', '', 'height=800,width=800');
        printWindow.document.write('<html><head><title>Print</title>');
        printWindow.document.write('<style>');
        printWindow.document.write('body { font-family: Arial, sans-serif; }');
        printWindow.document.write('table { width: 100%; border-collapse: collapse; }');
        printWindow.document.write('th, td { border: 1px solid #000; padding: 8px; text-align: left; }');
        printWindow.document.write('.text-nowrap { white-space: nowrap; }');
        printWindow.document.write('</style>');
        printWindow.document.write('</head><body>');
        printWindow.document.write(content);
        printWindow.document.write('</body></html>');
        printWindow.document.close();
        printWindow.print();
    }

    document.addEventListener('DOMContentLoaded', function() {
        var printButton = document.getElementById('printButton');
        printButton.addEventListener('click', function() {
            printDiv('printableArea');
        });
    });
</script>


{% endblock %}