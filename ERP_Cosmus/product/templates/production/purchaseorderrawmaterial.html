{% extends 'product/base.html' %} 
{% load static %} 
{% block body %}

<div class="">
    <h4>Purchase Order raw material</h4>
    <div class="d-flex">
        <div class="d-flex mb-2">
            <lable for="id_purchase_order_number" class="">Order Number:</lable>
            <input type="number" name="purchase_order_number" class="purchase-amount ms-2 me-4  border-0 bg-transparent text-danger" value="{{form.instance.purchase_order_number | default_if_none:''}}" required id="id_purchase_order_number" readonly>
        </div>
        <div class="d-flex mb-2 ms-4">
            <lable for="id_product_reference_number" class="">Reference Number:</lable>
            <input type="number" name="purchase_order_number" class="purchase-amount ms-2 me-2  border-0 bg-transparent text-danger" value="{{form.instance.product_reference_number.id}}" required id="id_purchase_order_number" readonly>
        </div>
        <div class="d-flex mb-2">
            <label for="id_ledger_party_name" class="item-form">Ledger party name:</label>
            <input name="ledger_party_name" class="item-select border-0 bg-transparent text-danger" id="id_ledger_party_name" value="{{form.instance.ledger_party_name.name}}" readonly>
            
          </div>
    </div>
    <div class="d-flex mb-4">
        <div class="d-flex ">
            <label for="id_target_date" class="">Target date:</label>
            <input type="date" name="target_date" class="border-0 bg-transparent ms-3 me-3 text-danger" value="{{ form.instance.target_date|date:'Y-m-d' }}" required id="id_target_date" readonly>  
          </div> 
          <div class="d-flex">
            <label for="id_number_of_pieces" class="">Number of pieces:</label>
            <input type="number" name="number_of_pieces" class="purchase-input ms-2 me-5 border-0 bg-transparent text-danger "  value="{{form.instance.number_of_pieces}}" required id="id_number_of_pieces" readonly>
          </div> 
          <diV class="d-flex">
            <lable for="id_model_name" class="ms-3">Model Name : </lable> 
            <input class="text-danger purchase-amount ms-2 me-4 border-0 bg-transparent" id="id_model_name"value="{{model_name | default_if_none:''}}">
          </diV>
    </div>
      
    <div>
        <form method="POST">
            {% csrf_token %}
            <div class="row">
                <div class="col-lg-5">
                    <table class="table table-striped table-hover table-bordered tables" id="productTable" >
                        <thead class="name_absolute text-nowrap">
                            <tr>
                                <th>Product Sku</th>
                                <th>Color</th>
                                <th>Order Qty</th>
                                <th>Process Qty</th>
                                <th>Delete</th>
                            </tr>
                        </thead>
                        <tbody class="mainTableList">
                            {{formset.management_form}}
                            {% for form in formset %}
                            {{form.id}}
                            <tr class="text-nowrap">
                                <td>
                                    <input type="text" class="productorder_input" name="{{form.prefix}}-product_id" value="{{form.instance.product_id.PProduct_SKU | default_if_none:''}}" id="id_{{form.prefix}}-product_id" readonly>
                                </td>
                                <td>
                                    <input type="text" class="productorder_input" name="{{forloop.counter0}}-product_color" value="{{form.instance.product_id.PProduct_color | default_if_none:''}}" id="id_{{forloop.counter0}}-product_color" readonly>
                                </td>
                                <td>
                                    <input type="number" class="productorderrawqty-input" name="{{form.prefix}}-order_quantity" value="{{form.instance.order_quantity|default_if_none:'0'}}" id="id_{{form.prefix}}-order_quantity" readonly>
                                </td>
                                <td>
                                    <input type="number" class="productorderqty-input" name="{{form.prefix}}-process_quantity" value="0" id="id_{{form.prefix}}-process_quantity">
                                </td>
                                <td><span class="delete-btn border-0 bg-transparent" style="cursor: pointer;"><i class="fa-solid fa-trash text-danger px-3 "><input type="checkbox" class="godown_delete px-2" style="display: none;"   name="{{form.prefix}}-DELETE" id="id_{{form.prefix}}-DELETE" value="" ></i></span></td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>

                </div>
            </div>
            <input type="submit" class="create-btn mt-4 mx-3" name="submit-form" value="Submit" id="id_submit">
          </form>
        
    </div>
</div>

{% endblock %}


