{%  extends 'product/base.html'  %}
{% load static %}
{% block body %} 

<h2>Update Product</h2>



<form method="POST" enctype="multipart/form-data">
  {% csrf_token %}
  <div>
    
    <div class="row">
      <div class="col-lg-6">
        <div class=" d-flex my-3">
          <label for="id_Product_Name" class="form-label item-form">Product Name:</label>
          <input type="text" class="item-select" value="{{form.instance.Product_Name}}" name="Product_Name"  required id="id_Product_Name">
        </div>
        <div class=" d-flex my-3">
          <label for="id_Model_Name" class="form-label item-form">Model Name:</label>
          <input type="text" class="item-select" value="{{form.instance.Model_Name}}" name="Model_Name"  required id="id_Model_Name">
        </div>
        <div class=" d-flex my-3">
        <label for="id_Product_Status" class="form-label item-form">Status:</label>
      <select name="Product_Status" class="item-select" id="id_Product_Status">
      
      
      
        {% if form.instance.id %}
      <option value="{{form.instance.Product_Status}}"selected>{{form.instance.Product_Status}}</option>
      
      {% elif not form.instance.id %}
      <option value=""selected></option>
      {% endif %}
      
      <option value="Preproduction">Preproduction</option>
      <option value="Active">Active</option>
      <option value="Inactive">Inactive</option>
      <option value="Discontinued">Discontinued</option>
      </select>
      </div>
      
      
      <div class=" d-flex my-3">
        <label for="id_Product_Channel" class="form-label item-form">Channel:</label>
        <div class="row">
          <div class="col-lg-4">
            <label for="id_Product_Channel_0" class="px-2"> <input type="checkbox" class="mx-1" name="Product_Channel" value="Ecommerce" id="id_Product_Channel_0">Ecommerce</label>
        <label for="id_Product_Channel_1" class="px-2"><input type="checkbox" class="mx-1" name="Product_Channel" value="Retail" id="id_Product_Channel_1">Retail</label>
        <label for="id_Product_Channel_2" class="px-2"><input type="checkbox" class="mx-1" name="Product_Channel" value="Corporate" id="id_Product_Channel_2">Corporate</label>
          </div>
          <div class="col-lg-5">
            <label for="id_Product_Channel_3" class="px-2"><input type="checkbox" class="mx-1" name="Product_Channel" value="Modern Trade" id="id_Product_Channel_3">Modern Trade</label>
        <label for="id_Product_Channel_4" class="px-2"><input type="checkbox" class="mx-1" name="Product_Channel" value="Export" id="id_Product_Channel_4">Export</label>
          </div>
        </div>
        
        
       </div>
      
      
      <div class=" d-flex my-3">
      <label for="id_Product_Brand" class="form-label item-form">Brand:</label>
      <select name="Product_Brand" class="item-select" id="id_Product_Brand">
      
       {% if form.instance.id %}
       <option value="{{form.instance.Product_Brand}}">{{form.instance.Product_Brand}}</option>
      {% elif not form.instance.id %}
      <option value=""></option> 
      {% endif %} 
      <option value="Cosmus">Cosmus</option> 
      <option value="Killer">Killer</option>  
      <option value="Tuffgear">Tuffgear</option> 
      <option value="BeeArmour">BeeArmour</option>  
      <option value="INIT">INIT</option>  
      <option value="OEM">OEM</option>  
      
      </select>
      </div>
      <div class=" d-flex my-3">
      <label for="id_Product_HSNCode" class="form-label item-form">HSN Code:</label>
      <input type="text" class="item-select" name="Product_HSNCode" value="12345678" id="id_Product_HSNCode">
      </div>
      <div class="d-flex my-3">
      <label for="id_GST" class="form-label item-form">GST:</label>
      <select name="Product_GST"  class="item-select" required  id="id_GST">
      
      {% if form.instance.Product_GST.id %} <!-- checks if form.instance.Product_GST.id is true as form.instance.P_GST does not exists right now -->
      <option value="{{ form.instance.Product_GST.id }}">{{form.instance.P_GST}}</option>
      <h2>{{ form.instance.P_GST}}</h2>
      {% elif not form.instance.id %}
      <option value=""></option>  
      {% endif %}
      
      
      {% for gst in gsts %}
      <option value="{{gst.id}}">{{gst.gst_percentage}}</option>
      {% endfor %}
      
      </select>
      
      </div>
      
      <div class="d-flex my-3">
      <label for="id_Product_WarrantyTime" class="form-label item-form">WarrantyTime:</label>
      <select name="Product_WarrantyTime" class="item-select" id="id_Product_WarrantyTime">
      
        {% if form.instance.id %}
        <option value="{{form.instance.Product_WarrantyTime}}">{{form.instance.Product_WarrantyTime}}</option>
       {% elif not form.instance.id %}
       <option value=""></option> 
       {% endif %} 
       <option value="6 Months">6 Months</option>
       <option value="12 Months">12 Months</option>
       <option value="18 Months">18 Months</option>
       <option value="24 Months">24 Months</option>
       <option value="30 Months">30 Months</option>
       <option value="36 Months">36 Months</option>
       <option value="42 Months">42 Months</option>
       <option value="48 Months">48 Months</option>
       <option value="54 Months">54 Months</option>
       <option value="60 Months">60 Months</option>
      </select>
      </div>
      <div class="d-flex my-3">
      <label for="id_Product_MRP" class="form-label item-form"> MRP:</label>
      <input type="number" class="item-select" value="{{form.instance.Product_MRP}}" name="Product_MRP"  id="id_Product_MRP">
      </div>
      <div class="d-flex my-3">
      <label for="id_Product_SalePrice_CustomerPrice" class="form-label item-form">Sale Price</label>
      <input type="number"class="item-select" name="Product_SalePrice_CustomerPrice" value="{{form.instance.Product_SalePrice_CustomerPrice}}"  id="id_Product_SalePrice_CustomerPrice">
      </div>
      <div class="d-flex my-3">
      <label for="id_Product_BulkPrice" class="form-label item-form">BulkPrice:</label>
      <input type="number" class="item-select" value="{{form.instance.Product_BulkPrice}}" name="Product_BulkPrice"  id="id_Product_BulkPrice">
      </div>
      <div class="d-flex my-3">
      <label for="id_Product_Cost_price" class="form-label item-form">Cost price:</label>
          <input type="number" class="item-select" value="{{form.instance.Product_Cost_price}}" name="Product_Cost_price"  id="id_Product_Cost_price">
        </div>
      <div class="d-flex my-3">
          <label for="id_Product_Refrence_ID" class="form-label item-form">Refrence ID:</label>
          <input type="number" readonly class="item-select" value = {{form.instance.Product_Refrence_ID}} name="Product_Refrence_ID" required  id="id_Product_Refrence_ID">
      </div>
      </div>
      <div class="col-lg-6">
        <h2>Product Images</h2>
        {{ formset.management_form }}
        {% for form in formset %}
          <div class="card mb-3 p-2">
            <!--<img id="previewImage_" src="#" class="card-img card-img p-1" alt="Preview Image">-->
            <div class=" d-flex mb-3">
              <label class="mx-3">Image:</label>
                <span class="mx-1" onchange="previewFile(event)">{{form.PProduct_image}}</span>
            </div>
            <div class=" d-flex mb-3">
              <label  class="mx-3 ">Color:</label>
              <div class="mx-3">{{form.PProduct_color}}</div>
            </div>
            <div class="d-flex mb-3">
              <label  class="mx-3">SKU:</label>
              <span class="mx-4">{{form.PProduct_SKU}}</span>
            </div>
            <div class="d-flex mb-2">
              <label class="mx-3">Delete:</label>
              <span >{{form.DELETE}}</span>
            </div>
          </div>
           
            {% endfor %}
          </div>
          
        </div>
      
        </div>   
      <input type="submit" class="dropbtn" value="submit">
    </div>
    
</form>
<script>
  function previewFile(event, counter) {
    var preview = document.getElementById('previewImage_');
    var file = event.target.files[0];
    var reader = new FileReader();

    reader.onloadend = function () {
      preview.src = reader.result;
    }

    if (file) {
      reader.readAsDataURL(file);
    } else {
      preview.src = "";
    }
  }
</script>


{% endblock body %}